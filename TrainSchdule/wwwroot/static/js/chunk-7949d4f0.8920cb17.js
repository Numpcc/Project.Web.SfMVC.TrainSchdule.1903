(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7949d4f0"],{1131:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[s("div",[s("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{disabled:"zh"===e.language,command:"zh"}},[e._v("\n      中文\n    ")]),e._v(" "),s("el-dropdown-item",{attrs:{disabled:"en"===e.language,command:"en"}},[e._v("\n      English\n    ")]),e._v(" "),s("el-dropdown-item",{attrs:{disabled:"es"===e.language,command:"es"}},[e._v("\n      Español\n    ")])],1)],1)},i=[],n={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("app/setLanguage",e),this.$message({message:"Switch Language Success",type:"success"})}}},o=n,a=s("6691"),c=Object(a["a"])(o,r,i,!1,null,null,null);t["a"]=c.exports},4565:function(e,t,s){"use strict";var r=s("fc62"),i=s.n(r);i.a},"976d":function(e,t,s){},ccb4:function(e,t,s){"use strict";var r=s("976d"),i=s.n(r);i.a},d5c2:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"register-container",attrs:{title:e.title,visible:e.showMain},on:{"update:visible":function(t){e.showMain=t},closed:e.returnToLogin}},[s("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[s("lang-select",{staticClass:"set-language"}),e._v(" "),s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),s("el-input",{ref:"username",attrs:{placeholder:e.$t("login.username"),"auto-complete":"on",name:"username",type:"text"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"email"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"email"}})],1),e._v(" "),s("el-input",{ref:"email",attrs:{placeholder:e.$t("register.checkemail"),"auto-complete":"on",name:"email",type:"text"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{key:e.passwordType,ref:"password",attrs:{placeholder:e.$t("login.password"),type:e.passwordType,name:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"confirm"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{key:e.confirmType,ref:"confirm",attrs:{placeholder:e.$t("register.confirmPassword"),type:e.confirmType,name:"confirm"},model:{value:e.registerForm.confirm,callback:function(t){e.$set(e.registerForm,"confirm",t)},expression:"registerForm.confirm"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showConfirmPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.confirmType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"company"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"company"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"休假目的地"}},[s("el-cascader",{attrs:{options:e.locationOptions,"show-all-levels":!1},on:{"active-item-change":e.handleItemChange},model:{value:e.registerForm.companyArr,callback:function(t){e.$set(e.registerForm,"companyArr",t)},expression:"registerForm.companyArr"}})],1),e._v(" "),s("transition",{attrs:{name:"el-zoom-in-center"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[s("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v(e._s(e.$t("register.submit")))])],1)])],1),e._v(" "),s("el-dialog",{attrs:{title:e.$t("register.checkemail"),visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[e._v("\n    "+e._s(e.$t("register.emailstatus"))+"\n    "),s("social-sign")],1)],1)},i=[],n=s("61f7"),o=s("1131"),a=s("b27f"),c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l={name:"Register",components:{LangSelect:o["a"]},data:function(){var e=this,t=function(t,s,r){0!==s.trim().length&&Object(n["d"])(s)?r():r(new Error(e.$t("login.validate.username.invalid")))},s=function(t,s,r){s.length<6?r(new Error(e.$t("login.validate.psw.len"))):r()},r=function(t,s,r){0===s.trim().length?r(new Error(e.$t("register.validate.psw.confirmRequired"))):s!==e.registerForm.password?r(new Error(e.$t("register.validate.psw.inconform"))):r()},i=function(t,s,r){c.test(s)?r():r(new Error(e.$t("register.validate.email.notmatch")))};return{registerForm:{username:"",password:"",confirm:"",company:"",email:"",verifyCode:"",companyArr:[]},registerRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:s}],confirm:[{required:!0,trigger:"blur",validator:r}],email:[{required:!0,trigger:"blur",validator:i}]},passwordType:"password",confirmType:"password",loading:!0,showDialog:!1,redirect:void 0,title:"",showMain:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},mounted:function(){this.showMain=!0,this.loading=!1,this.title=this.$t("register.title")},destroyed:function(){},methods:{setCompany:function(e){this.registerForm.company=e},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},showConfirmPwd:function(){var e=this;"password"===this.confirmType?this.confirmType="":this.confirmType="password",this.$nextTick((function(){e.$refs.confirm.focus()}))},returnToLogin:function(){this.$router.push({path:"/login"})},handleSubmit:function(){var e=this;this.loading=!0,this.$refs.registerForm.validate((function(t){if(!t)return console.log("error submit!!"),Object(a["setTimeout"])((function(){return e.loading=!1}),500),!1;e.$store.dispatch("user/register",e.registerForm).then((function(t){e.$message({message:e.$t("register.success"),type:"success"}),Object(a["setTimeout"])((function(){e.returnToLogin(),e.loading=!1}),500)})).catch((function(){Object(a["setTimeout"])((function(){console.log("fail"),e.loading=!1}),500)}))}))}}},m=l,u=(s("4565"),s("ccb4"),s("6691")),d=Object(u["a"])(m,r,i,!1,null,"427509aa",null);t["default"]=d.exports},fc62:function(e,t,s){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42fdd074"],{1131:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[n("div",[n("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:"zh"===e.language,command:"zh"}},[e._v("\n      中文\n    ")]),e._v(" "),n("el-dropdown-item",{attrs:{disabled:"en"===e.language,command:"en"}},[e._v("\n      English\n    ")]),e._v(" "),n("el-dropdown-item",{attrs:{disabled:"es"===e.language,command:"es"}},[e._v("\n      Español\n    ")])],1)],1)},i=[],r={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("app/setLanguage",e),this.$message({message:"Switch Language Success",type:"success"})}}},a=r,o=n("17cc"),c=Object(o["a"])(a,s,i,!1,null,null,null);t["a"]=c.exports},2974:function(e,t,n){},4565:function(e,t,n){"use strict";var s=n("a380"),i=n.n(s);i.a},"4f45":function(e,t,n){(function(e){var s="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("de8a"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("66fa"))},a380:function(e,t,n){},ccb4:function(e,t,n){"use strict";var s=n("2974"),i=n.n(s);i.a},d5c2:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"register-container",attrs:{title:e.title,visible:e.showMain},on:{"update:visible":function(t){e.showMain=t},closed:e.returnToLogin}},[n("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[n("lang-select",{staticClass:"set-language"}),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),n("el-input",{ref:"username",attrs:{placeholder:e.$t("login.username"),"auto-complete":"on",name:"username",type:"text"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"email"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"email"}})],1),e._v(" "),n("el-input",{ref:"email",attrs:{placeholder:e.$t("register.checkemail"),"auto-complete":"on",name:"email",type:"text"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),n("el-input",{key:e.passwordType,ref:"password",attrs:{placeholder:e.$t("login.password"),type:e.passwordType,name:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e._v(" "),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"confirm"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),n("el-input",{key:e.confirmType,ref:"confirm",attrs:{placeholder:e.$t("register.confirmPassword"),type:e.confirmType,name:"confirm"},model:{value:e.registerForm.confirm,callback:function(t){e.$set(e.registerForm,"confirm",t)},expression:"registerForm.confirm"}}),e._v(" "),n("span",{staticClass:"show-pwd",on:{click:e.showConfirmPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.confirmType?"eye":"eye-open"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"company"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"company"}})],1)]),e._v(" "),n("el-form-item",{attrs:{label:"休假目的地"}},[n("el-cascader",{attrs:{options:e.locationOptions,"show-all-levels":!1},on:{"active-item-change":e.handleItemChange},model:{value:e.registerForm.companyArr,callback:function(t){e.$set(e.registerForm,"companyArr",t)},expression:"registerForm.companyArr"}})],1),e._v(" "),n("transition",{attrs:{name:"el-zoom-in-center"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v(e._s(e.$t("register.submit")))])],1)])],1),e._v(" "),n("el-dialog",{attrs:{title:e.$t("register.checkemail"),visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[e._v("\n    "+e._s(e.$t("register.emailstatus"))+"\n    "),n("social-sign")],1)],1)},i=[],r=n("61f7"),a=n("1131"),o=n("4f45"),c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l={name:"Register",components:{LangSelect:a["a"]},data:function(){var e=this,t=function(t,n,s){0!==n.trim().length&&Object(r["d"])(n)?s():s(new Error(e.$t("login.validate.username.invalid")))},n=function(t,n,s){n.length<6?s(new Error(e.$t("login.validate.psw.len"))):s()},s=function(t,n,s){0===n.trim().length?s(new Error(e.$t("register.validate.psw.confirmRequired"))):n!==e.registerForm.password?s(new Error(e.$t("register.validate.psw.inconform"))):s()},i=function(t,n,s){c.test(n)?s():s(new Error(e.$t("register.validate.email.notmatch")))};return{registerForm:{username:"",password:"",confirm:"",company:"",email:"",verifyCode:"",companyArr:[]},registerRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:n}],confirm:[{required:!0,trigger:"blur",validator:s}],email:[{required:!0,trigger:"blur",validator:i}]},passwordType:"password",confirmType:"password",loading:!0,showDialog:!1,redirect:void 0,title:"",showMain:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},mounted:function(){this.showMain=!0,this.loading=!1,this.title=this.$t("register.title")},destroyed:function(){},methods:{setCompany:function(e){this.registerForm.company=e},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},showConfirmPwd:function(){var e=this;"password"===this.confirmType?this.confirmType="":this.confirmType="password",this.$nextTick(function(){e.$refs.confirm.focus()})},returnToLogin:function(){this.$router.push({path:"/login"})},handleSubmit:function(){var e=this;this.loading=!0,this.$refs.registerForm.validate(function(t){if(!t)return console.log("error submit!!"),Object(o["setTimeout"])(function(){return e.loading=!1},500),!1;e.$store.dispatch("user/register",e.registerForm).then(function(t){e.$message({message:e.$t("register.success"),type:"success"}),Object(o["setTimeout"])(function(){e.returnToLogin(),e.loading=!1},500)}).catch(function(){Object(o["setTimeout"])(function(){console.log("fail"),e.loading=!1},500)})})}}},u=l,m=(n("4565"),n("ccb4"),n("17cc")),d=Object(m["a"])(u,s,i,!1,null,"427509aa",null);t["default"]=d.exports},de8a:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var s,i=1,r={},a=!1,o=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?f():p()?g():e.MessageChannel?h():o&&"onreadystatechange"in o.createElement("script")?v():w(),c.setImmediate=l,c.clearImmediate=u}function l(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return r[i]=a,s(i),i++}function u(e){delete r[e]}function m(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(n,s);break}}function d(e){if(a)setTimeout(d,0,e);else{var t=r[e];if(t){a=!0;try{m(t)}finally{u(e),a=!1}}}}function f(){s=function(e){t.nextTick(function(){d(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function g(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&d(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}function h(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)},s=function(t){e.port2.postMessage(t)}}function v(){var e=o.documentElement;s=function(t){var n=o.createElement("script");n.onreadystatechange=function(){d(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function w(){s=function(e){setTimeout(d,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("66fa"),n("60ac"))}}]);